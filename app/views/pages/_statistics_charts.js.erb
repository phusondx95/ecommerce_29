google.charts.load('current', {'packages':['corechart']});
google.charts.setOnLoadCallback(drawChart1);
google.charts.setOnLoadCallback(drawChart2);
function drawChart1() {

  var data = new google.visualization.DataTable();
  data.addColumn('string', 'Product');
  data.addColumn('number', 'Orders');
  data.addRows(<%=  raw product_orders %>);

  var options = {
    title: 'Order numbers of each product',
    width: 350,
    height: 300};

  var chart = new google.visualization.PieChart(document.getElementById('piechart_div'));
  chart.draw(data, options);
}

function drawChart2() {

  var data = new google.visualization.DataTable();
  data.addColumn('string', 'Product');
  data.addColumn('number', 'Purchased number');
  data.addRows(<%= raw purchased_products %>);

  var options = {
    title: 'Purchased number of each product',
    width: 350,
    height: 300,
    bar: {groupWidth: '95%'},
    legend: { position: 'none' },
  };
  var chart = new google.visualization.BarChart(document.getElementById('barchart_div'));
  chart.draw(data, options);
}
